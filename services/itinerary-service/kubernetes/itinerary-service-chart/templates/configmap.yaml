apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "itinerary-service.fullname" . }}-config
  labels:
    {{- include "itinerary-service.labels" . | nindent 4 }}
data:
  db_user: {{ .Values.database.user | quote }}
  db_url: {{ .Values.database.url | quote }}
  bucket_name: {{ "%s%s" .Values.gcp.projectId "-tripico-images" | quote }}
  project_id: {{ .Values.gcp.projectId | quote }}
  service_account_email: {{ "%s%s%s" "travel-backend-sa@" .Values.gcp.projectId ".iam.gserviceaccount.com" | quote }}
  backend_url: {{ .Values.backendUrl | quote }}
  identity_platform_auth_enabled: {{ .Values.identityPlatform.authEnabled | quote }}
  identity_platform_auth_primary_header: {{ .Values.identityPlatform.primaryHeader | quote }}
  identity_platform_auth_fallback_header: {{ .Values.identityPlatform.fallbackHeader | quote }}

